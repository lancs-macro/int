<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports | International Housing Observatory</title>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/style-generic.css">
    <link href='https://fonts.googleapis.com/css?family=Gloria Hallelujah' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover.css">

    <!-- Load jQuery first -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <!-- Then load the rest of the head content -->
    <div id="head-placeholder"></div>
    <script>
        $(function () {
            $("#head-placeholder").load("components/header.html");
        });
    </script>
    <style>
        .publish-date {
            font-size: 0.85rem;
            color: #666;
            margin: 0.5rem 0;
            font-style: italic;
        }

        .quarter-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background-color: #f8f9fa;
            border-radius: 4px;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body>
    <!--Navigation bar-->
    <div id="nav-placeholder"></div>
    <script>
        $(function () {
            $("#nav-placeholder").load("components/nav.html");
        });
    </script>

    <!--Main body-->
    <div class="container">
        <div class="row" id="reports-container">
            <!-- Reports will be loaded here dynamically -->
        </div>
        <div class="row pt-4">
            <div class="col-12 mb-4">
                <p style="font-size: 0.9rem; color: #6c757d; font-style: italic; padding: 1rem; background-color: #f8f9fa; border-left: 3px solid #dee2e6;">
                    <strong>Note:</strong> We have updated the reference period of the IHO report (including the title)
                    to align our description of the current market situation with the latest developments in housing
                    policies and regulations. Accordingly, the 2025Q1 report is the next report after 2024Q3. All
                    reports remain accessible and up-to-date with their original publish dates.
                </p>
            </div>
        </div>
    </div>

    <!--Footer-->
    <div id="footer-placeholder"></div>
    <script>
        $(function () {
            $("#footer-placeholder").load("components/footer.html");
        });
    </script>

    <script>
        // Load and display reports from JSON
        $(document).ready(function () {
            $.getJSON('data/reports.json', function (data) {
                const reportsContainer = $('#reports-container');

                data.reports.forEach(report => {
                    const reportCard = `
                        <div class="col-md-4 mb-4">
                            <div class="card report-card">
                                <div class="card-body">
                                    <h5 class="card-title">${report.title}</h5>
                                    <div class="quarter-badge">${report.quarter}</div>
                                    <div class="publish-date">Published: ${report.publish_date}</div>
                                    <p class="card-text">${report.description}</p>
                                    <a href="${report.link}" class="btn view-report-btn">View Report</a>
                                </div>
                            </div>
                        </div>
                    `;
                    reportsContainer.append(reportCard);
                });
            });
        });
    </script>
</body>

</html>