<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>International Housing Observatory</title>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/style-generic.css">
    <link href='https://fonts.googleapis.com/css?family=Gloria Hallelujah' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover.css">

    <!-- Load jQuery first -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <!-- Then load the rest of the head content -->
    <div id="head-placeholder"></div>
    <script>
        $(function () {
            $("#head-placeholder").load("components/header.html");
        });
    </script>

</head>

<body>

    <!--Navigation bar-->
    <div id="nav-placeholder"></div>
    <script>
        $(function () {
            $("#nav-placeholder").load("components/nav.html");
        });
    </script>

    <!--end of Navigation bar-->

    <!-- Start the dashboard silently to reduce the loading time -->
    <iframe src="https://lancs-macro.shinyapps.io/idash/" class="iframe-hidden"></iframe>


    <div class="jumbotron jumbotron-index jumbotron-fluid">
        <div class="container col-md-6 col-sm-12">
        </div>
    </div>

    <section id="intro" class="text-center">
        <div class="container">
            <h1>International Housing Observatory</h1>
            <h5 class="topics-sub" style="margin-bottom:2rem;">A project developed to improve understanding of
                international house price dynamics
            </h5>
        </div>
    </section>

    <style>
        #more {
            display: none;
        }
    </style>

    <section id="announcement">
        <div class="container">
            <h2 id="reportTitle">Loading latest report...</h2>
            <h4 id="reportQuarter" style="color:grey;">Loading...</h4>
            <div class="content-wrapper">
                <p class="report-content">
                    <strong id="reportDescription">Loading...</strong>
                    <span id="reportExcerpt"></span>
                </p>
                <span class="publish-date"></span>
            </div>
            <div class="btn-container">
                <a id="reportLink" class="btn" href="#">
                    Read More
                </a>
            </div>
        </div>
    </section>
    <script>
        // Function to load the latest report
        async function loadLatestReport() {
            try {
                const response = await fetch('data/reports.json');
                const data = await response.json();
                const latestReport = data.reports[0]; // First report is the latest

                // Update the DOM elements
                document.getElementById('reportTitle').textContent = latestReport.title;
                document.getElementById('reportQuarter').textContent = `Latest IHO Global Housing Outlook - ${latestReport.quarter}`;
                document.getElementById('reportDescription').textContent = latestReport.description;
                document.getElementById('reportExcerpt').textContent = latestReport.excerpt;
                document.getElementById('reportLink').href = latestReport.link;

                // Update the publish date as plain text
                if (latestReport.publish_date) {
                    document.querySelector('.publish-date').textContent = `Published: ${latestReport.publish_date}`;
                }
            } catch (error) {
                console.error('Error loading report:', error);
                document.getElementById('reportTitle').textContent = 'Error loading report';
            }
        }

        // Load the report when the page loads
        document.addEventListener('DOMContentLoaded', loadLatestReport);

        function expandFrame() {
            var reportFrame = document.getElementById("reportFrame");
            reportFrame.style.height = "100%";
        }
    </script>




    <!--  Render html from reports 2024q1 -->


    <!-- <h3 style="text-align:center; margin-bottom:3rem; margin-top:2rem;">
            IHO's own Enrique Martinez Garcia wins 2023 Central Banking award in Economics
        </h3> -->

    <!-- <div class="container">

            <div class="row">
                <div class="col-md-4" style="text-align: center;">
                    <img src="assets/img/cb_awards.png" class="img-fluid" alt="Responsive image" width="">
                </div>

                <div class="col-md-8">


                    <p>
                        Martinez Garcia's work with the International Housing Observatory (IHO) has been recognized for
                        its contribution to the study of complex issues in housing, including exuberance and financial
                        stability.
                    </p>

                    <p>
                        According to Central Banking, this "breakthrough research is delivering critical policy
                        insights." The Central Banking's article on the award also cites the strength of the cooperation
                        between the Dallas Fed and Lancaster University through the International Housing Observatory,
                        and the "'state-of-the-art' econometrics used to generate the results."

                    </p>

                    <p>
                        For more information on this, please see the
                        <a href="https://www.centralbanking.com/awards/7954701/economics-in-central-banking-enrique-martinez-garcia-the-federal-reserve-bank-of-dallas"
                            target="_blank" rel="noopener"
                            style="color: rgb(49, 70, 88) !important; text-decoration:underline !important;">
                            full Central Banking article.
                        </a>
                    </p>
                </div>
            </div>
        </div> -->







    <!-- <section id="c3-chart">
        <div class="container">
            <div class="chart-row">
                <div></div>
                <input id="chart-button" class="btn btn-outline-secondary" type="button" value="Switch: Growth"
                    onclick="switchVisible();" />
            </div>
            <div id="chart"></div>
            <div id="chart2"></div>
        </div>
    </section>
    <script src="linechart.js"></script>
    <script src="linechart2.js"></script>

    <section id="c3-chart-mobile">
        <div class="chart-row">
            <div></div>
            <input id="chart-button" class="btn btn-outline-secondary" type="button" value="Switch: Growth"
                onclick="switchVisible();" />
        </div>
        <div id="chart-mobile"></div>
        <div id="chart-mobile2"></div>
    </section>
    <script src="linechart-mobile.js"></script>
    <script src="linechart-mobile2.js"></script>

    <script language="javascript">
        function switchVisible() {
            if (document.getElementById('chart')) {

                if (document.getElementById('chart').style.display == 'none') {
                    document.getElementById('chart').style.display = 'block';
                    document.getElementById('chart2').style.display = 'none';
                    document.getElementById("chart-button").value = "Switch: Growth";

                } else {
                    document.getElementById('chart').style.display = 'none';
                    document.getElementById('chart2').style.display = 'block';
                    document.getElementById("chart-button").value = "Switch: Level";
                }
            }
            if (document.getElementById('chart-mobile')) {

                if (document.getElementById('chart-mobile').style.display == 'none') {
                    document.getElementById('chart-mobile').style.display = 'block';
                    document.getElementById('chart-mobile2').style.display = 'none';
                    document.getElementById("chart-button").value = "Switch: Growth";

                } else {
                    document.getElementById('chart-mobile').style.display = 'none';
                    document.getElementById('chart-mobile2').style.display = 'block';
                    document.getElementById("chart-button").value = "Switch: Level";
                }
            }
        }
    </script> -->


    <section id="topics" class="bg-gray">
        <div class="container">
            <div class="card-deck">
                <a href="dashboard.html">
                    <div class="card mb-4 text-center " style="width: 22rem;">
                        <i class="fa fa-line-chart"></i>

                        <i class="fas fa-home fa-6x"></i>
                        <div class="card-body ">
                            <h4 class="card-title">Real-time Monitoring</h4>
                            <p class="card-text">Real Estate Markets</p>
                        </div>
                    </div>
                </a>
                <a href="dashboard.html">
                    <div class="card mb-4 text-center" style="width: 20rem;">
                        <i class="fas fa-globe fa-6x"></i>
                        <div class="card-body">
                            <h4 class="card-title">International Coverage</h4>
                            <p class="card-text"> 25 countries across the world</p>
                        </div>
                    </div>
                </a>
                <a href="dashboard.html">
                    <div class="card mb-4 text-center" style="width: 20rem;">
                        <i class="fas fa-chart-area fa-6x"></i>
                        <div class="card-body">
                            <h4 class="card-title">Financial Stability</h4>
                            <p class="card-text">Monitoring Exuberance and Collapses in Housing Markets</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <section id="chart-plotly">
        <div class="container">
            <div class="chart-row">
                <input id="chart-button" class="btn btn-outline-secondary" type="button" value="Switch: Growth"
                    onclick="switchPlot();" />
            </div>
            <div class="chart-row">
                <iframe id="chart" src="https://api.housing-observatory.com/visualizations/int/rhpi"
                    class="iframe-index"></iframe>
            </div>
    </section>

    <script language="javascript">
        function switchPlot() {
            if (document.getElementById("chart-button").value == "Switch: Level") {
                document.getElementById('chart').src = 'https://api.housing-observatory.com/visualizations/int/rhpi';
                document.getElementById("chart-button").value = "Switch: Growth";

            } else {
                document.getElementById('chart').src = 'https://api.housing-observatory.com/visualizations/int/rhpi_yoy';
                document.getElementById("chart-button").value = "Switch: Level";
            }

        }
    </script>



    <!--Footer -->
    <div id="footer-placeholder"></div>
    <script>
        $(function () {
            $("#footer-placeholder").load("components/footer.html");
        });
    </script>
    <!--end of footer-->
    <script>

    </script>
    <script>

        function myFunction() {

            var dots = document.getElementById("dots");
            var moreText = document.getElementById("more");
            var btnText = document.getElementById("myBtn");

            if (dots.style.display === "none") {
                dots.style.display = "inline";
                btnText.innerHTML = "Read more";
                moreText.style.display = "none";
            } else {
                dots.style.display = "none";
                btnText.innerHTML = "Read less";
                moreText.style.display = "inline";
            }
        }
    </script>
</body>

</html>